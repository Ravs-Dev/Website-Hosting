<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ravs Store Hosting & Jasa</title>

<script src="https://cdn.tailwindcss.com"></script>

<style>
:root{
  --glass-bg: rgba(255,255,255,0.05);
  --card-border: rgba(255,255,255,0.08);
}
body{
  background:#000;
  min-height:100vh;
  color:#e2e8f0;
  font-family:sans-serif;
}
.cyber-bg{
  position:fixed;
  inset:0;
  z-index:-1;
  overflow:hidden;
  background:#000;
}
.cyber-bg::before,
.cyber-bg::after{
  content:"";
  position:absolute;
  width:120%;
  height:120%;
  top:-10%;
  left:-10%;
  background:
  radial-gradient(circle at 30% 40%, rgba(14,165,233,0.4), transparent 60%),
  radial-gradient(circle at 70% 60%, rgba(239,68,68,0.35), transparent 60%);
  animation:auroraMove 18s ease-in-out infinite alternate;
  filter:blur(90px);
}
@keyframes auroraMove{
  0%{transform:translate(0,0) scale(1);}
  50%{transform:translate(40px,-30px) scale(1.1);}
  100%{transform:translate(-30px,40px) scale(1);}
}
.glass{
  background:var(--glass-bg);
  backdrop-filter:blur(10px);
  border:1px solid var(--card-border);
}
.btn-accent{
  background:linear-gradient(90deg,#ef4444,#0ea5e9);
  color:white;
}
</style>
</head>

<body>

<div class="cyber-bg"></div>

<header class="py-10 text-center">
<h1 class="text-4xl font-extrabold">üî• Ravs Store üî•</h1>
<p class="text-slate-400 mt-2">Hosting ‚Ä¢ Script ‚Ä¢ Website</p>
</header>

<main class="max-w-6xl mx-auto px-6 pb-20">

<div class="grid md:grid-cols-3 gap-4">

<div class="p-4 rounded-xl glass text-center border" data-paket="SA:MP">
<h3 class="font-bold text-red-300">Hosting SA:MP</h3>
<button class="mt-4 w-full py-2 rounded btn-accent select-paket">Pilih</button>
</div>

<div class="p-4 rounded-xl glass text-center border" data-paket="Minecraft">
<h3 class="font-bold text-blue-300">Hosting Minecraft</h3>
<button class="mt-4 w-full py-2 rounded btn-accent select-paket">Pilih</button>
</div>

<div class="p-4 rounded-xl glass text-center border" data-paket="Bot Discord">
<h3 class="font-bold text-yellow-300">Hosting Bot Discord</h3>
<button class="mt-4 w-full py-2 rounded btn-accent select-paket">Pilih</button>
</div>

</div>

<div id="orderCard" class="glass rounded-2xl p-6 mt-8">
<h3 class="text-xl font-semibold">Form Pesanan Hosting</h3>
<p class="text-slate-400 text-sm">Paket dipilih: <span id="selectedLabel">Belum memilih</span></p>

<form id="hostingForm" class="mt-4 space-y-4">

<input type="text" id="hostName" placeholder="Nama lengkap" required class="w-full p-3 rounded bg-black/40 border border-slate-700"/>
<input type="tel" id="hostWa" placeholder="Nomor WA (08...)" required class="w-full p-3 rounded bg-black/40 border border-slate-700"/>

<div class="grid grid-cols-2 gap-3">
<input type="number" id="hostRam" value="1" min="1" class="p-3 rounded bg-black/40 border border-slate-700" placeholder="RAM (GB)"/>
<input type="number" id="hostCpu" value="1" min="1" class="p-3 rounded bg-black/40 border border-slate-700" placeholder="CPU (Core)"/>
</div>

<div class="grid grid-cols-2 gap-3">
<input type="number" id="hostStorage" value="50" min="50" step="50" class="p-3 rounded bg-black/40 border border-slate-700" placeholder="Storage (MB)"/>

<div id="slotWrapper">
<input type="number" id="hostSlot" value="10" min="1" class="p-3 rounded bg-black/40 border border-slate-700" placeholder="Slot Player"/>
</div>
</div>

<textarea id="hostNote" rows="3" placeholder="Catatan tambahan" class="w-full p-3 rounded bg-black/40 border border-slate-700"></textarea>

<button type="submit" class="btn-accent px-4 py-2 rounded">Kirim Pesanan</button>

<p id="hostPrice" class="text-emerald-400 font-bold"></p>
<p id="hostStatus" class="text-sm mt-2"></p>

</form>
</div>

</main>

<script>

const ADMIN_WA = "6285123263221";
let selectedHosting = "";

const slotWrapper = document.getElementById("slotWrapper");

document.querySelectorAll(".select-paket").forEach(btn=>{
btn.addEventListener("click",(e)=>{
selectedHosting = e.target.closest("[data-paket]").dataset.paket;
document.getElementById("selectedLabel").textContent = selectedHosting;

if(selectedHosting === "Bot Discord"){
slotWrapper.style.display="none";
document.getElementById("hostSlot").value = 0;
}else{
slotWrapper.style.display="";
document.getElementById("hostSlot").value = 10;
}

updatePrice();
});
});

function calcPrice(){
const ram = parseInt(hostRam.value)||0;
const cpu = parseInt(hostCpu.value)||0;
const storage = parseInt(hostStorage.value)||0;
const slot = parseInt(hostSlot.value)||0;

let harga = (ram*10000)+(cpu*5000)+((storage/50)*10000);

if(selectedHosting !== "Bot Discord"){
harga += (slot*1000);
}
return harga;
}

function updatePrice(){
hostPrice.textContent="üí∞ Total Harga: Rp"+calcPrice().toLocaleString();
}

["hostRam","hostCpu","hostStorage","hostSlot"].forEach(id=>{
document.getElementById(id).addEventListener("input",updatePrice);
});

updatePrice();

document.getElementById("hostingForm").addEventListener("submit",async(e)=>{
e.preventDefault();

if(!selectedHosting){
hostStatus.textContent="‚ö†Ô∏è Pilih paket dulu.";
return;
}

const name = hostName.value.trim();
const wa = hostWa.value.trim();
const harga = calcPrice();

const pesan =
`üî• Pesanan Hosting üî•
Nama: ${name}
WA: ${wa}
Paket: ${selectedHosting}
RAM: ${hostRam.value} GB
CPU: ${hostCpu.value} Core
Storage: ${hostStorage.value} MB
${selectedHosting !== "Bot Discord" ? `Slot: ${hostSlot.value}` : ""}
Harga: Rp${harga.toLocaleString()}
Catatan: ${hostNote.value}`;

window.open(`https://wa.me/${ADMIN_WA}?text=${encodeURIComponent(pesan)}`,'_blank');

try{
await fetch('/api/order',{
method:'POST',
headers:{'Content-Type':'application/json'},
body:JSON.stringify({
paket:selectedHosting,
name,
wa,
note:pesan
})
});
hostStatus.textContent="‚úÖ Pesanan terkirim!";
hostingForm.reset();
updatePrice();
}catch{
hostStatus.textContent="‚ö†Ô∏è Gagal kirim ke server, tapi WA sudah terbuka.";
}

});

</script>

</body>
</html>
